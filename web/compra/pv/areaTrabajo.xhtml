<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:html5="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    
        <ui:composition >
            <!-- **********************************************************************************************************************************************************
             MAIN CONTENT
             *********************************************************************************************************************************************************** -->


            <!--main content start-->
            <section id="main-content">
                <section class="wrapper">

                    <div class="col-sm-9 col-sm-offset-3 col-lg-10 col-lg-offset-2 main">
                        <div class="row">
                            <ol class="breadcrumb">
                                <li><a href="#">
                                        <em class="fa fa-home"></em>
                                    </a></li>
                                <li class="active">Compras</li>
                            </ol>
                        </div><!--/.row-->
                        <div class="row">
                            <div class="col-lg-12">
                                <h1 class="page-header">Compras</h1>
                            </div>
                        </div><!--/.row-->

                        <div class="row">
                            <div class="col-lg-15">
                                <div class="panel panel-default">
                                    <div class="panel-heading">Nueva orden de compra</div>
                                    <div class="panel-body">
                                        <div class="col-lg-15">
                                            <div class="col-lg-15">
                                                <div class="panel panel-default">
                                                    <div class="panel-body">
                                                        <div class="container">

                                                            <h:form class="form-horizontal" id="contact_form" style="width: 950px;">
                                                                <fieldset>

                                                                    <!-- Form Name -->
                                                                    <legend>
                                                                        <center>
                                                                            <h2><b>Formato de Compra Proveedor</b></h2>
                                                                        </center>
                                                                    </legend><br></br>

                                                                    <!-- Text input-->
                                                                    <h:messages></h:messages>
                                                                    <div class="form-group">
                                                                        <label class="col-md-4 control-label">Nombre Comprador</label>
                                                                        <div class="col-md-4 inputGroupContainer">
                                                                            <div class="input-group">
                                                                                <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                                                                                <h:inputText html5:placeholder="#Nombre" class="form-control" value="#{compraRequest.ordcom.nombreComprador}"/>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label class="col-md-4 control-label">Nombre Vendedor</label>
                                                                        <div class="col-md-4 inputGroupContainer">
                                                                            <div class="input-group">
                                                                                <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                                                                                <h:inputText html5:placeholder="Nombre" class="form-control" value="#{compraRequest.ordcom.nombreVendedor}"/>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label class="col-md-4 control-label">Ciudad</label>
                                                                        <div class="col-md-4 selectContainer">
                                                                            <div class="input-group">
                                                                                <span class="input-group-addon"><i class="glyphicon glyphicon-list"></i></span>
                                                                                <h:selectOneMenu value="#{compraRequest.ordcom.lugarEmision}" class="form-control selectpicker">
                                                                                    <f:selectItem itemLabel="Seleccione" itemValue="Seleccione"></f:selectItem>
                                                                                    <f:selectItem itemLabel="Bogota" itemValue="Bogota"></f:selectItem>
                                                                                    <f:selectItem itemLabel="Medellin" itemValue="Medellin"></f:selectItem>
                                                                                    <f:selectItem itemLabel="Barranquilla" itemValue="Barranquilla"></f:selectItem>
                                                                                    <f:selectItem itemLabel="Bucaramanga" itemValue="Bucaramanga"></f:selectItem>
                                                                                    <f:selectItem itemLabel="Quindio" itemValue="Quindio"></f:selectItem>
                                                                                    <f:selectItem itemLabel="Chia" itemValue="Chia"></f:selectItem>
                                                                                    <f:selectItem itemLabel="Cali" itemValue="Cali"></f:selectItem>
                                                                                    <f:selectItem itemLabel="Villavicencio" itemValue="Villavicencio"></f:selectItem>
                                                                                </h:selectOneMenu>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <!-- Text input-->

                                                                    <div class="form-group">
                                                                        <label class="col-md-4 control-label">Número de contacto</label>
                                                                        <div class="col-md-4 inputGroupContainer">
                                                                            <div class="input-group">
                                                                                <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
                                                                                <h:inputText html5:placeholder="Número" class="form-control" value="#{compraRequest.ordcom.telefono}"/>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label class="col-md-4 control-label">Cantidad de mercancia</label>
                                                                        <div class="col-md-4 inputGroupContainer">
                                                                            <div class="input-group">
                                                                                <span class="input-group-addon"><i class="glyphicon glyphicon-shopping-cart"></i></span>
                                                                                <h:inputText html5:placeholder="Cantidad" class="form-control" value="#{compraRequest.ordcom.cantidad}"/>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label class="col-md-4 control-label">Unidad de medida</label>
                                                                        <div class="col-md-4 selectContainer">
                                                                            <div class="input-group">
                                                                                <span class="input-group-addon"><i class="glyphicon glyphicon-tag"></i></span>
                                                                                <h:selectOneMenu value="#{compraRequest.ordcom.unidaddemedida}" class="form-control selectpicker">
                                                                                    <f:selectItem itemLabel="Seleccione" itemValue="Seleccione"></f:selectItem>
                                                                                    <f:selectItem itemLabel="XS" itemValue="XS"></f:selectItem>
                                                                                    <f:selectItem itemLabel="XL" itemValue="XL"></f:selectItem>
                                                                                    <f:selectItem itemLabel="XM" itemValue="XM"></f:selectItem>
                                                                                    <f:selectItem itemLabel="X" itemValue="X"></f:selectItem>
                                                                                    <f:selectItem itemLabel="S" itemValue="S"></f:selectItem>
                                                                                    <f:selectItem itemLabel="L" itemValue="L"></f:selectItem>
                                                                                    <f:selectItem itemLabel="M" itemValue="M"></f:selectItem>
                                                                                </h:selectOneMenu>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label class="col-md-4 control-label">Descripción</label>
                                                                        <div class="col-md-4 inputGroupContainer">
                                                                            <div class="input-group">
                                                                                <span class="input-group-addon"><i class="glyphicon glyphicon-pencil"></i></span>
                                                                                <h:inputText html5:placeholder="Descripción" class="form-control" value="#{compraRequest.ordcom.descripcion}"/>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label class="col-md-4 control-label">Metodo De Pago</label>
                                                                        <div class="col-md-4 inputGroupContainer">
                                                                            <div class="input-group">
                                                                                <span class="input-group-addon"><i class="glyphicon glyphicon-credit-card"></i></span>
                                                                                <h:selectOneMenu value="#{compraRequest.ordcom.metodoPago}" class="form-control selectpicker">
                                                                                    <f:selectItem itemLabel="Seleccione" itemValue="Seleccione"></f:selectItem>
                                                                                    <f:selectItem itemLabel="Efectivo" itemValue="Efectivo"></f:selectItem>
                                                                                    <f:selectItem itemLabel="Tarjeta credito" itemValue="Tarjeta credito"></f:selectItem>
                                                                                    <f:selectItem itemLabel="Tarjeta debito" itemValue="Tarjeta debito"></f:selectItem>
                                                                                </h:selectOneMenu>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label class="col-md-4 control-label">Precio Unitario</label>
                                                                        <div class="col-md-4 inputGroupContainer">
                                                                            <div class="input-group">
                                                                                <span class="input-group-addon"><i class="glyphicon glyphicon-usd"></i></span>
                                                                                <h:inputText html5:placeholder="Precio Unitario del producto" class="form-control" value="#{compraRequest.ordcom.precioUnitario}"/>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label class="col-md-4 control-label">Precio total</label>
                                                                        <div class="col-md-4 inputGroupContainer">
                                                                            <div class="input-group">
                                                                                <span class="input-group-addon"><i class="glyphicon glyphicon-usd"></i></span>
                                                                                <h:inputText html5:placeholder="Valor total" class="form-control" value="#{compraRequest.ordcom.precioTotal}"/>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label class="col-md-4 control-label">Pago Total</label>
                                                                        <div class="col-md-4 inputGroupContainer">
                                                                            <div class="input-group">
                                                                                <span class="input-group-addon"><i class="glyphicon glyphicon-usd"></i></span>
                                                                                <h:inputText html5:placeholder="Pago realizado" class="form-control" value="#{compraRequest.ordcom.pagoTotal}"/>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <!--
                                                                    <div class="form-group">
                                                                        <label class="col-md-4 control-label">Añadir archivos de factura?</label>
                                                                        <div class="col-md-4 inputGroupContainer">
                                                                            <div class="input-group">
                                                                                <span class="input-group-addon"><i class="glyphicon glyphicon-level-up"></i></span>
                                                                                <input class="form-control" type="file"/>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="col-md-12 pad-adjust">
                                                                            <div class="checkbox">
                                                                                <label>
                                                                                    <input type="checkbox" checked-class="text-muted"/> #{msjAlumi.Guardarestainformaciónparalapróxima}?
                                                                                </label>
                                                                            </div>
                                                                        </div>
                                                                    </div>-->
                                                                    <br></br>
                                                                    <div class="row ">
                                                                        <div class="col-md-6 col-sm-6 col-xs-6 pad-adjust">
                                                                            <h:commandButton type="reset"  class="btn btn-danger" value="Cancelar"/>
                                                                        </div>
                                                                        <div class="col-md-6 col-sm-6 col-xs-6 pad-adjust">
                                                                            <h:commandButton type="submit" class="btn btn-warning btn-block" value="Confirmar Compra" action="#{compraRequest.registrarOrden()}"/>
                                                                        </div>
                                                                    </div>
                                                                </fieldset>
                                                            </h:form>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <br></br>
                                            <div class="container-fluid">
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <div class="card">
                                                            <div class="card-header card-header-primary">
                                                                <h1 class="page-header">Registro de compra</h1>
                                                            </div>

                                                            <table class="table table-striped table-advance table-hover">
                                                                <h4><i class="fa fa-angle-right"></i> Lista de ordenes</h4>
                                                                <hr/>
                                                                <thead>
                                                                    <tr>
                                                                        <td><strong>Fecha</strong></td>
                                                                        <td><strong>Comprador</strong></td>
                                                                        <td><strong>Vendedor</strong></td>
                                                                        <td><strong>Ciudad</strong></td>
                                                                        <td><strong>Descripción</strong></td>
                                                                        <td><strong>Precio Unitario</strong></td>
                                                                        <td><strong>Precio Total</strong></td>
                                                                        <td><strong>Pago Realizado</strong></td>
                                                                        <td><strong>Metodo de Pago</strong></td>
                                                                        <td><strong>Cantidad</strong></td>
                                                                        <td><strong>Telefóno</strong></td>
                                                                        <td><strong>Unidad de medida</strong></td>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <h:form id="listaUsuarios">
                                                                        <c:forEach items="#{compraRequest.listaOrdenes}" var="ord">
                                                                            <tr>
                                                                                <td>#{ord.fecha}</td>
                                                                                <td>#{ord.nombreComprador}</td>
                                                                                <td>#{ord.nombreVendedor}</td>
                                                                                <td>#{ord.lugarEmision}</td>
                                                                                <td>#{ord.descripcion}</td>
                                                                                <td>#{ord.precioUnitario}</td>
                                                                                <td>#{ord.precioTotal}</td>
                                                                                <td>#{ord.pagoTotal}</td>
                                                                                <td>#{ord.metodoPago}</td>
                                                                                <td>#{ord.cantidad}</td>
                                                                                <td>#{ord.telefono}</td>
                                                                                <td>#{ord.unidaddemedida}</td>
                                                                            </tr>
                                                                        </c:forEach>
                                                                        <tr>
                                                                            <td>Descargue listado de ordenes</td>
                                                                            <td>
                                                                                <h:commandButton class="btn btn-primary btn-xs" action="#{compraRequest.descargaOrdenes()}" value="Listado de ordenes"></h:commandButton>   
                                                                            </td>
                                                                        </tr>
                                                                    </h:form>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-12">

                                <div class="panel panel-default">
                                    <div class="panel-heading">Formulario de Registro</div>
                                    <div class="panel-body">
                                        <div class="col-md-6">
                                            <h:form>
                                                <div class="form-group">
                                                    <label class="col-6 control-label">Nombre Proveedor</label>
                                                    <h:inputText  value="#{proveedoresRequest.provReg.nombre}" class="form-control" html5:placeholder="Nombre" html5:autofocus="true"/>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-6 control-label">Tipo de documento</label>
                                                    <h:selectOneMenu value="#{proveedoresRequest.provReg.tipoDocumento}" class="form-control" >
                                                        <f:selectItem itemLabel="cedula" itemValue="Cedula" ></f:selectItem>
                                                        <f:selectItem itemLabel="#Cedula Extranjeria" itemValue="Cedula Extranjeria" ></f:selectItem>
                                                        <f:selectItem itemLabel="#Pasaporte" itemValue="Pasaporte" ></f:selectItem>
                                                        <f:selectItem itemLabel="NIT" itemValue="NIT" ></f:selectItem>
                                                    </h:selectOneMenu>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-6 control-label" >Numero de documento</label>
                                                    <h:inputText  value="#{proveedoresRequest.provReg.numeroDocumento}" class="form-control" html5:placeholder="Numero de documento" html5:autofocus="true"/>
                                                </div>

                                                <div class="form-group">
                                                    <label class="col-6 control-label" >Dirreción</label>
                                                    <h:inputText  value="#{proveedoresRequest.provReg.direccion}" class="form-control" html5:placeholder="Dirreción" html5:autofocus="true"/>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-6 control-label" >Ciudad</label>
                                                    <h:inputText  value="#{proveedoresRequest.provReg.ciudad}" class="form-control" html5:placeholder="Ciudad" html5:autofocus="true"/>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-6 control-label" >Telefono</label>
                                                    <h:inputText  value="#{proveedoresRequest.provReg.telefono}" class="form-control" html5:placeholder="Telefono" html5:autofocus="true"/>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-6 control-label" >Telefono Alternativo</label>
                                                    <h:inputText  value="#{proveedoresRequest.provReg.telefono2}" class="form-control" html5:placeholder="Telefono Alternativo" html5:autofocus="true"/>
                                                </div>
                                                <div class="col-md-2">
                                                    <h:commandButton action="#{proveedoresRequest.registrarProveedor()}" class="btn btn-md btn-success"  value="Registrar" ></h:commandButton>
                                                </div>
                                            </h:form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br></br>
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="card">
                                        <div class="card-header card-header-primary">
                                            <h1 class="page-header">Proveedores</h1>
                                        </div>
                                        <table class="table table-striped table-advance table-hover">
                                            <h4><i class="fa fa-angle-right"></i> Lista de proveedores</h4>
                                            <hr/>
                                            <thead>
                                                <tr>
                                                    <td><strong>ID Proveedor</strong></td>
                                                    <td><strong>Nombre</strong></td>
                                                    <td><strong>Tipo de documento</strong></td>
                                                    <td><strong>Numero de documento</strong></td>
                                                    <td><strong>Dirección</strong></td>
                                                    <td><strong>Ciudad</strong></td>
                                                    <td><strong>Telefono</strong></td>
                                                    <td><strong>Telefono Alternativo</strong></td>
                                                    <td></td>

                                                </tr>
                                            </thead>
                                            <tbody>
                                                <h:form id="listaProveedor">
                                                    <c:forEach items="#{proveedoresRequest.listaProveed}" var="prv">
                                                        <tr>
                                                            <td>#{prv.IDProveedor}</td>
                                                            <td>#{prv.nombre}</td>
                                                            <td>#{prv.tipoDocumento}</td>
                                                            <td>#{prv.numeroDocumento}</td>
                                                            <td>#{prv.direccion}</td>
                                                            <td>#{prv.ciudad}</td>
                                                            <td>#{prv.telefono}</td>
                                                            <td>#{prv.telefono2}</td>
                                                            <td>

                                                                <h:commandButton style="display: none" id="pv2#{prv.IDProveedor}" action="#{proveedoresRequest.removerProveedor(prv)}"></h:commandButton>   
                                                                <h:commandButton style="display: none" id="usuPv2#{prv.IDProveedor}" action="#{proveedoresRequest.UsuarioSelecionado(prv)}"></h:commandButton>  


                                                                <button type="button" onclick="$('#listaProveedor\\:usuPv2#{prv.IDProveedor}').click()" class="btn btn-success btn-xs"><i class="fa fa-pencil"></i></button>
                                                                <button type="button" onclick="$('#listaProveedor\\:pv2#{prv.IDProveedor}').click()" class="btn btn-danger btn-xs"><i class="fa fa-trash-o "></i></button>

                                                            </td>
                                                        </tr>
                                                    </c:forEach>
                                                </h:form>
                                            </tbody>
                                        </table>
                                        <div class="col-md-6">
                                            <h5>Actualizar información</h5>
                                            <h:form class="form-horizontal">
                                                <div class="form-group">
                                                    <label class="col-6 control-label">ID Proveedor</label>
                                                    <h:inputText html5:placeholder="#{proveedoresRequest.editPro.IDProveedor}" disabled="true" class="form-control" html5:autofocus="true"/>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-6 control-label">Nombre</label>
                                                    <h:inputText  value="#{proveedoresRequest.editPro.nombre}" html5:placeholder="Nombre" class="form-control" html5:autofocus="true"/>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-6 control-label">Tipo de documento</label>
                                                    <h:selectOneMenu value="#{proveedoresRequest.editPro.tipoDocumento}" class="form-control" >
                                                        <f:selectItem itemLabel="#{msjAlumi.cedula}" itemValue="Cedula" ></f:selectItem>
                                                        <f:selectItem itemLabel="#{msjAlumi.Ceduladeextranjeria}" itemValue="Cedula Extranjeria" ></f:selectItem>
                                                        <f:selectItem itemLabel="#{msjAlumi.Pasaporte}" itemValue="Pasaporte" ></f:selectItem>
                                                        <f:selectItem itemLabel="NIT" itemValue="NIT" ></f:selectItem>
                                                    </h:selectOneMenu>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-6 control-label" >Numero de identificación</label>
                                                    <h:inputText  value="#{proveedoresRequest.editPro.numeroDocumento}" html5:placeholder="Numero de identificación" class="form-control" html5:autofocus="true"/>
                                                </div>

                                                <div class="form-group">
                                                    <label class="col-6 control-label" >Dirección</label>
                                                    <h:inputText html5:placeholder="#{proveedoresRequest.editPro.direccion}" disabled="true" class="form-control" html5:autofocus="true"/>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-6 control-label" >Ciudad</label>
                                                    <h:inputText  html5:placeholder="#{proveedoresRequest.editPro.ciudad}" disabled="true" class="form-control" html5:autofocus="true"/>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-6 control-label" >Telefono</label>
                                                    <h:inputText  value="#{proveedoresRequest.editPro.telefono}" class="form-control" html5:placeholder="Telefono" html5:autofocus="true"/>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-6 control-label" >Telefono Alternativo</label>
                                                    <h:inputText  value="#{proveedoresRequest.editPro.telefono2}" class="form-control" html5:placeholder="Telefono Alternativo" html5:autofocus="true"/>
                                                </div>
                                                <div class="col-md-2">
                                                    <h:commandButton action="#{proveedoresRequest.actualizarProveedor()}" class="btn btn-md btn-success"  value="Actualizar" ></h:commandButton>
                                                </div>
                                            </h:form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                </section>
            </section>
            <!--main content end-->
        </ui:composition>
    
</html>